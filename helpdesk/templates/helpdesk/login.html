{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <!-- Meta, title, CSS, favicons, etc. -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" href="{% static 'helpdesk/images/logo2.png' %}" type="image/ico" />
    
        <title>Helpdesk System</title>
    
        <!-- Bootstrap -->
        <link href="{% static 'helpdesk/css/css/bootstrap.min.css' %}" rel="stylesheet">
        <link href="{% static 'helpdesk/css/font-awesome/font-awesome.min.css' %}" rel="stylesheet">
    
    
        <!-- bootstrap-daterangepicker -->
        <link href="{% static 'helpdesk/css/daterangepicker/daterangepicker.css' %}" rel="stylesheet">
    
        <!-- Custom Theme Style -->
        <link href="{% static 'helpdesk/css/css/custom.min.css' %}" rel="stylesheet">
    
      </head>
    
  <body class="login">
    <!--
    {% for message in messages %}    
    <div class="alert alert-danger alert-dismissible " role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span>
        </button>
        <strong>ERROR:</strong> {{message}}.
    </div>
    {% endfor %}-->

    {% if messages %}
    {% for message in messages %}
    <div {% if message.tags %} class="alert alert-{{message.tags}} alert-dismissible " role="alert" {% endif %}>
        <strong style="text-transform:uppercase">{{message.tags}} :</strong> {{ message }}.
    </div>
    {% endfor %}
    {% endif %}


    <div>

      <div class="login_wrapper" style="margin-top: 4%;">
        <div class="animate form login_form">
            
          <section class="login_content">
            <a href=""><img src="{% static 'helpdesk/images/logo.png' %}" alt="" style="width:45%;" class="center"> 
            </a>

          <form method="POST" action="{% url 'loginAuth' %}" class="form-horizontal form-label-left">
                <input type="hidden" name="next" value="{{ request.GET.next }}" >

                {% csrf_token %}
              <h1 style="font-size:17px">Helpdesk System</h1>

              <div class="form-group row">
                <div class="col-md-12">
                <input type="text" name="username" class="form-control" placeholder="Username.." required="" />
                  <span class="fa fa-user form-control-feedback right" aria-hidden="true" ></span>
                </div>
              </div> 
            
               <div class="form-group row">
                  <div class="col-md-12">
                     <input type="password" name="password" class="form-control" placeholder="Password.." required=""  id="id_password" />
                    <span class="fa fa-eye form-control-feedback right" aria-hidden="true" id="togglePassword" style="cursor: pointer;"></span>
                  </div>
                </div>

              <div>
                <button class="btn btn-default submit" href="index.html">Log in</button>
                <a class="reset_pass" href="{% url 'resetPassword' %}">Lost your password?</a>
              </div>

              <div class="clearfix"></div>
            
              <div class="separator">

                <div class="clearfix"></div>
                <br />

                <div>
                  <p style="font-size: 11px;">©2022 All Rights Reserved. PT Sinar Meadow International Indonesia</p>
                </div>
              </div>
            </form>
            
          </section>
        </div>

      </div>
    </div>
    
    <script type="text/javascript">
      const togglePassword = document.querySelector('#togglePassword');
        const password = document.querySelector('#id_password');

        togglePassword.addEventListener('click', function (e) {
          // toggle the type attribute
          const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
          password.setAttribute('type', type);
          // toggle the eye slash icon
          this.classList.toggle('fa-eye-slash');
      });
    </script>
  </body>
</html>
